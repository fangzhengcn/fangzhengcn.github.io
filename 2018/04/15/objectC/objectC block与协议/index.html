<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Extension,">










<meta name="description" content="Extension1、 延展： Extension，是一个特殊的分类，所以延展也是类的一部分2、 特殊之处  延展这个特殊的分类没有名字 只有声明没有实现，和本类共享一个实现  3、 延展的语法： 123@interface 本类名 （）@end 没有实现，和本类共享一个实现 3、 为类添加延展的步骤，只会生成一个.h文件，文件名：本类名_取的文件名.h，这个文件中只有延展的声明 4、 延展和分类">
<meta name="keywords" content="Extension">
<meta property="og:type" content="article">
<meta property="og:title" content="block与协议">
<meta property="og:url" content="http://fanzheng.ink/2018/04/15/objectC/objectC block与协议/index.html">
<meta property="og:site_name" content="水滴石穿">
<meta property="og:description" content="Extension1、 延展： Extension，是一个特殊的分类，所以延展也是类的一部分2、 特殊之处  延展这个特殊的分类没有名字 只有声明没有实现，和本类共享一个实现  3、 延展的语法： 123@interface 本类名 （）@end 没有实现，和本类共享一个实现 3、 为类添加延展的步骤，只会生成一个.h文件，文件名：本类名_取的文件名.h，这个文件中只有延展的声明 4、 延展和分类">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2021-05-09T11:24:10.737Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="block与协议">
<meta name="twitter:description" content="Extension1、 延展： Extension，是一个特殊的分类，所以延展也是类的一部分2、 特殊之处  延展这个特殊的分类没有名字 只有声明没有实现，和本类共享一个实现  3、 延展的语法： 123@interface 本类名 （）@end 没有实现，和本类共享一个实现 3、 为类添加延展的步骤，只会生成一个.h文件，文件名：本类名_取的文件名.h，这个文件中只有延展的声明 4、 延展和分类">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://fanzheng.ink/2018/04/15/objectC/objectC block与协议/">





  <title>block与协议 | 水滴石穿</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">水滴石穿</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fanzheng.ink/2018/04/15/objectC/objectC block与协议/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="fangzheng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/psb.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="水滴石穿">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">block与协议</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-15T13:20:33+08:00">
                2018-04-15
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/objectC语言学习/" itemprop="url" rel="index">
                    <span itemprop="name">objectC语言学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Extension"><a href="#Extension" class="headerlink" title="Extension"></a>Extension</h2><p>1、 延展： Extension，是一个特殊的分类，所以延展也是类的一部分<br>2、 特殊之处</p>
<ul>
<li>延展这个特殊的分类没有名字</li>
<li>只有声明没有实现，和本类共享一个实现</li>
</ul>
<p>3、 延展的语法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@interface 本类名 （）</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<p>没有实现，和本类共享一个实现</p>
<p>3、 为类添加延展的步骤，只会生成一个.h文件，文件名：本类名_取的文件名.h，这个文件中只有延展的声明</p>
<p>4、 延展和分类的区别</p>
<ul>
<li>分类有名字，延展没有名字，是一个匿名的分类</li>
<li>每一个分类都有单独的声明和实现，而延展只有声明，没有实现，和本类共享一个实现</li>
<li>分类中只能新增方法，而延展中任意的成员都可以写</li>
<li>分类中可以写@property但是只会生成 getter setter的声明。延展中写@property会自动生成私有属性，也会生成getter setter的声明和实现</li>
</ul>
<p>5、 延展的应用场景</p>
<ul>
<li>要为类写一个私有的@property，生成getter setter方法只能在类的内部访问，不能在外部访问</li>
<li>延展100%的情况下不会独占一个文件，都是将延展直接写在本类的实现当中。这个时候，写在延展中的成员，就相当于是这个类的私有成员，只能在本类的实现中访问，外部不能访问</li>
<li>什么时候使用延展？当想为这个类定义私有成员的时候就可以使用延展，将延展定义在这个类的实现文件中。如果想要为类写一个真私有属性，虽然可以定义在@implementation之中，但是不要这样写，不规范，需将这个类的延展定义在这个类的实现中来写真私有属性。如果为类写一个私有方法，建议将声明写在延展当中，延展写在这个类的本类实现中，提高代码的阅读性</li>
<li>延展就是用来做私有化类成员的，如果类的成员只希望在类的内部访问，那么就定义在延展当中，延展定义在本类的实现中</li>
</ul>
<h2 id="block"><a href="#block" class="headerlink" title="block"></a>block</h2><p>1、 OC在C的基础之上新增了一些数据类型<br>BOOL、Boolean、class、nil、SEL、id、block<br>2、 block是一个数据类型</p>
<ul>
<li>block是1个数据类型，所以可以声明一个block类型的变量</li>
<li>block类型的变量中专门存储1段代码，这段代码可以有参数，可以有返回值</li>
</ul>
<p>3、 block变量的声明</p>
<ul>
<li><p>虽然block变量中是用来存储一段代码的，但是1个block变量中并不是任意的1段代码都可以存进去的，而是有限定的，也就是说，在声明block变量的时候，必须要指定这个block变量存储的代码段是否有参数，是否有返回值。一旦指定以后，这个block变量中就只能存储这样的代码</p>
</li>
<li><p>声明一个block变量，返回值是void，参数是1个int类型的，这个时候，这个block变量中只能存储无返回值并且1一个int参数的代码段</p>
</li>
<li><p>声明block变量的语法格式：<br>返回值类型 (^block变量的名称)(参数列表);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">void (^myBlock1)();//表示声明了一个block类型的变量叫做myBlock1这个变量中只能存储没有返回值没有参数的代码段</span><br><span class="line">int (^myBlock2)();</span><br><span class="line">int (^myBlock3)(int num1,int num2);</span><br></pre></td></tr></table></figure>
</li>
<li><p>初始化block变量</p>
<ul>
<li>原理： 写一个符合block要求的代码段，存储到block变量中就可以了</li>
<li><p>代码段的书写格式，^返回值类型(参数列表){ 代码段; }</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">//这个时候可以使用赋值符号存储到无返回值无参数要求的myBlock1变量之中</span><br><span class="line">myBlock1 = ^void()&#123;</span><br><span class="line">    NSlog(@&quot;i love you &quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>如何执行存储在block变量中的代码段<br>语法格式： block变量名();</p>
</li>
<li><p>关于block的简写</p>
<ul>
<li><p>如果我们写的代码段没有返回值，那么代码段的void可以省略</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 注意 ，说的是代码段的返回值如果是void可以省略，声明block变量的返回值无论是什么，都不可以省略</span><br><span class="line">void (^myBlock1)()= ^()&#123;</span><br><span class="line">    NSLog(@&quot;I love you&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>如果我们写的代码段没有参数，代码段的小括弧也可以省略</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 注意，是代码段才可以省略</span><br><span class="line">int (^myBlock2)()=^int&#123;</span><br><span class="line">    int num1 = 10+9;</span><br><span class="line">    return num1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>当一个代码段即没有参数，也没有返回值的时候，就只写一个^</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> void (^myBlock1)()= ^&#123;</span><br><span class="line">   NSLog(@&quot;I love you&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>声明block变量的时候，如果有指定参数，可以只写参数的类型而不写参数的名称</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 注意，这个地方指的是声明block变量的时候，写代码段的时候，类型和名称都要写</span><br><span class="line">int (^myBlock3)(int,int)= ^int(int num1,int num2)&#123;</span><br><span class="line">    int num3= num1 +num2;</span><br><span class="line">    return num3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>无论代码段是否有返回值的时候，都可以省略返回值类型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 如果在写代码段的时候，省略了返回值，系统会自动判断返回类型</span><br><span class="line">int (^myBlock3)(int,int)=^(int num1,int num2)&#123;</span><br><span class="line">    int num3= num1+num2;</span><br><span class="line">    return num3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>简化block百年来的复杂定义</p>
<ul>
<li>定义block变量的时候，要写好大1串，类型很长</li>
<li>typedef的使用场景： 将一个长类型定义为一个短类型</li>
<li><p>可以使用typedef将长的block类型，定义为一个短类型<br>typedef 返回值类型 (^新类型)(参数列表);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">typedef void (^NewType)();</span><br><span class="line">// 代表重新定义了一个无参数无返回值的block类型NewType</span><br><span class="line">NewType block1;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>block 内部访问外部变量的问题</p>
<ul>
<li>在block代码块的内部可以取定义在外部变量的值，定义在外部的局部变量和全局变量的值</li>
<li>在block代码块的内部可以修改全局变量的值，但是不可以修改定义在外部的局部变量的值</li>
<li>如果希望定义的局部变量可以允许在block代码段的内部去修改，那么就为这个局部变量加一个__block修饰符即可</li>
</ul>
</li>
</ul>
<h2 id="block-作为函数的参数"><a href="#block-作为函数的参数" class="headerlink" title="block 作为函数的参数"></a>block 作为函数的参数</h2><p>1、 如何为函数定义block类型的参数？</p>
<ul>
<li>在小括弧中声明一个指定格式的block变量就可以了</li>
<li>可以使用typedef简化定义</li>
</ul>
<p>2、 如何去调用带block参数的函数</p>
<ul>
<li>如果要调用的函数参数是block类型，那么要求在调用的时候传入一个和形参block要求的代码段</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line">typedef void (^NewType)(void);</span><br><span class="line">//为这个函数定义一个参数，定义1个block类型的参数</span><br><span class="line">//无参数的无返回值的block</span><br><span class="line">void test(NewType block1)</span><br><span class="line">&#123;</span><br><span class="line">    NSLog(@&quot;~~~~~~~~~~~~&quot;);</span><br><span class="line">    block1();</span><br><span class="line">    NSLog(@&quot;~~~~~~~~~~~~&quot;);</span><br><span class="line">&#125;</span><br><span class="line">void test2(int (^paramsBlock)(int num1,int num2))&#123;</span><br><span class="line">    NSLog(@&quot;^^^^^^^^^^^^&quot;);</span><br><span class="line">    int sum= paramsBlock(10,20);</span><br><span class="line">    NSLog(@&quot;%d&quot;,sum);</span><br><span class="line">    NSLog(@&quot;^^^^^^^^^^^^&quot;);</span><br><span class="line">&#125;</span><br><span class="line">int main(int argc, const char * argv[]) &#123;</span><br><span class="line">    NewType type=^&#123;</span><br><span class="line">        NSLog(@&quot;哈哈&quot;);</span><br><span class="line">        NSLog(@&quot;呵呵&quot;);</span><br><span class="line">        NSLog(@&quot;嘿嘿&quot;);</span><br><span class="line">    &#125;;</span><br><span class="line">    test(type);</span><br><span class="line">    test(^&#123;</span><br><span class="line">        NSLog(@&quot;hello&quot;);</span><br><span class="line">    &#125;);</span><br><span class="line">    test2(^int(int num1, int num2) &#123;</span><br><span class="line">        int sum=num1+num2;</span><br><span class="line">        return sum;</span><br><span class="line">    &#125;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3、 应用场景</p>
<ul>
<li><p>可以将调用者自己写的一段代码，传入到函数内部执行</p>
</li>
<li><p>当方法的内部需要执行一个功能，但是这个功能具体的实现函数内部不确定，那么这个时候就使用block让调用者将这个功能的具体实现传递进去</p>
</li>
</ul>
<h2 id="block-作为函数的返回值"><a href="#block-作为函数的返回值" class="headerlink" title="block 作为函数的返回值"></a>block 作为函数的返回值</h2><p>1、 如果block作为函数的返回值，返回值类型必须使用typedef定义的短类型返回，否则报错</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">typedef void (^NewType2)(void);</span><br><span class="line">NewType2 test3()</span><br><span class="line">&#123;</span><br><span class="line">    void (^block1)()=^&#123;</span><br><span class="line">        NSLog(@&quot;^^^^^^&quot;);</span><br><span class="line">        NSLog(@&quot;hello newType2&quot;);</span><br><span class="line">        NSLog(@&quot;^^^^^^&quot;);</span><br><span class="line">    &#125;;</span><br><span class="line">    return block1;</span><br><span class="line">&#125;</span><br><span class="line">int main(int argc, const char * argv[]) &#123;</span><br><span class="line">    NewType2 blockNewType2=test3();</span><br><span class="line">    blockNewType2();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="block-与函数"><a href="#block-与函数" class="headerlink" title="block 与函数"></a>block 与函数</h2><p>1、 相同点 ： 都是封装一段代码。不同点：</p>
<ul>
<li>block是一个数据类型，函数是一个函数</li>
<li>可以声明一个block类型的变量，函数只能是函数</li>
<li>block可以作为函数的参数，而函数不能直接作为函数的参数，可以使用函数指针来作为函数参数</li>
</ul>
<h2 id="protocol"><a href="#protocol" class="headerlink" title="protocol"></a>protocol</h2><p>1、协议：protocol，作用：专门用来声明一大堆方法（不能声明属性，也不能实现方法，只能用来写方法的声明） 只要某个类遵守这个协议，就相当于拥有这个协议中的所有方法的声明，而不用自己定义</p>
<p>2、 协议的声明</p>
<p>@protocol 协议名称 <nsobject><br>方法的声明;<br>@end</nsobject></p>
<blockquote>
<p>新建一个协议的方式  NewFile  OC-File  选择protocol ，协议的文件名： .h 并且只有一个.h文件，在协议中，只能用来声明方法，协议的作用：就是专门用来写方法的声明</p>
</blockquote>
<p>3、 类遵守协议</p>
<blockquote>
<p>协议就是用来写方法声明的，就是用来被类遵守的，如果想要让1个类，拥有协议中定义的所有的方法声明，那么就让这个类遵守这个协议，类只要遵守一个协议，那么这个类就拥有了这些协议中定义的所有方法声明</p>
</blockquote>
<p>@interface 类名 ： 父类名 &lt;协议名称&gt;</p>
<p>@end</p>
<p>：表示继承<br>&lt;&gt; 表示遵守的协议</p>
<p>当一个类，遵守了1个协议，那么就先相当于这个类拥有了协议中定义的所有的方法声明，这个类只是拥有这个协议中的方法声明而已，没有实现，所以这个类，就应该实现协议中的方法</p>
<p>如果类不实现协议中的方法，其实也不会报错，编译器只是会报警告，但是当创建对象，来调用这个没有实现的协议中的方法的时候，就会报错</p>
<p>4、 类是单继承，但是协议可以多遵守</p>
<blockquote>
<p>1个类只能有一个父类，但是1个类可以同时遵守多个协议</p>
</blockquote>
<p>@interface 类名: 父类名 &lt;协议名称1,协议名称2……&gt;<br>@end<br>当一个类遵守了多个协议之后，就相当于这个类拥有了所有协议中定义的方法声明，那么这个类就应该实现所有协议中的方法</p>
<p>5、 @required 和 @optional </p>
<blockquote>
<p>这两个修饰符是专门用来修饰协议中的方法，在协议中，如果方法的声明被@required修饰，那么遵守这个协议的类必须实现这个方法，否则编译器会出警告。如果方法的声明被@optional修饰，遵守这个协议的类可以不去实现这个方法，不实现编译器也不会报警告。默认是@required</p>
</blockquote>
<p>6、 协议与协议之间可以相互继承</p>
<blockquote>
<p>语法：<br>@protocol 协议名称 &lt;父协议名称&gt;<br>@end</p>
</blockquote>
<blockquote>
<p>效果<br>子协议当中不仅有自己的方法声明，还有父协议的方法声明</p>
</blockquote>
<p>7、 NSObject，在Foundation框架中，有1个类叫做NSObject，是所有OC类的鸡肋。在Foundation框架中，有一个协议，叫做NSObject.</p>
<blockquote>
<p>NSObject 协议被NSObject类遵守，所以NSObject协议中的所有方法，全部的OC类都拥有了，所有的OC类都遵守了NSObject协议，NSObject协议叫做基协议</p>
</blockquote>
<blockquote>
<p>类的名称可以和协议的名称一致</p>
</blockquote>
<p>8、规范</p>
<blockquote>
<p>要求所有的协议都必须直接的或者间接的从NSObject基协议继承</p>
</blockquote>
<p>9、协议的类型限制</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Extension/" rel="tag"># Extension</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/04/15/objectC/objectC面向对象/" rel="next" title="objectC面向对象">
                <i class="fa fa-chevron-left"></i> objectC面向对象
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/04/15/objectC/objectC内存管理/" rel="prev" title="内存管理">
                内存管理 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/psb.jpg" alt="fangzheng">
            
              <p class="site-author-name" itemprop="name">fangzheng</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">76</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Extension"><span class="nav-number">1.</span> <span class="nav-text">Extension</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#block"><span class="nav-number">2.</span> <span class="nav-text">block</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#block-作为函数的参数"><span class="nav-number">3.</span> <span class="nav-text">block 作为函数的参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#block-作为函数的返回值"><span class="nav-number">4.</span> <span class="nav-text">block 作为函数的返回值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#block-与函数"><span class="nav-number">5.</span> <span class="nav-text">block 与函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#protocol"><span class="nav-number">6.</span> <span class="nav-text">protocol</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">fangzheng</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        


<script>
  	var _mtac = {};
  	(function() {
  		var mta = document.createElement("script");
  		mta.src = "https://pingjs.qq.com/h5/stats.js?v2.0.4";
  		mta.setAttribute("name", "MTAH5");
  		mta.setAttribute("sid", "500675900");

  		var s = document.getElementsByTagName("script")[0];
  		s.parentNode.insertBefore(mta, s);
  	})();
</script>






        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
